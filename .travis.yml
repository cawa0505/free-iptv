language: go
#
#services:
#  - docker

go:
  - 1.12.x

before_install:
  - sudo apt-get update -qq
  - sudo apt-get install -y -qq libtesseract-dev libleptonica-dev
  - TESSDATA_PREFIX=/usr/share/tesseract-ocr
  - sudo apt-get install -y -qq tesseract-ocr-eng
  - GO111MODULE=off go mod tidy
install:
  - go build

# before we deploy, we go build for all operating systems we would like to support
#before_deploy:
#  - ls
#
#deploy: # deploy to docker hub
#  provider: releases
#  api_key: ${GITHUB_API_KEY}
#  file:
#    - "release/freeiptv"
#  skip_cleanup: true
#  on:
#    tags: true
